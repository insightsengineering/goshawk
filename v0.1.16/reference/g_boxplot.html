<!DOCTYPE html>
<!-- Generated by pkgdown + https://github.com/insightsengineering/r-pkgdown-multiversion -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="A box plot is a method for graphically depicting groups of numerical data
through their quartiles. Box plots may also have lines extending vertically
from the boxes (whiskers) indicating variability outside the upper and lower
quartiles, hence the term box-and-whisker. Outliers may be plotted as
individual points. Box plots are non-parametric: they display variation in
samples of a statistical population without making any assumptions of the
underlying statistical distribution. The spacings between the different parts
of the box indicate the degree of dispersion (spread) and skewness in the
data, and show outliers. In addition to the points themselves, they allow one
to visually estimate various L-estimators, notably the interquartile range,
midhinge, range, mid-range, and trimean.">
<title>Function to create a boxplot. — g_boxplot • goshawk</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Function to create a boxplot. — g_boxplot">
<meta property="og:description" content="A box plot is a method for graphically depicting groups of numerical data
through their quartiles. Box plots may also have lines extending vertically
from the boxes (whiskers) indicating variability outside the upper and lower
quartiles, hence the term box-and-whisker. Outliers may be plotted as
individual points. Box plots are non-parametric: they display variation in
samples of a statistical population without making any assumptions of the
underlying statistical distribution. The spacings between the different parts
of the box indicate the degree of dispersion (spread) and skewness in the
data, and show outliers. In addition to the points themselves, they allow one
to visually estimate various L-estimators, notably the interquartile range,
midhinge, range, mid-range, and trimean.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="../consent.css">
<script src="../consent.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">goshawk</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.16</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/goshawk.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<!-- start dropdown for versions --> <li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-versions">Versions</a>
    <div class="dropdown-menu" aria-labelledby="dropdown-versions">
    <a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/goshawk/main">main</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/goshawk/latest-tag">latest-tag</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/goshawk/v0.1.19">v0.1.19</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/goshawk/v0.1.18">v0.1.18</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/goshawk/v0.1.17">v0.1.17</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/goshawk/v0.1.16">v0.1.16</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/goshawk/v0.1.15">v0.1.15</a>
</div>
</li>
<!-- end dropdown for versions -->
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-reports">Reports</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-reports">
    <a class="dropdown-item" href="../coverage-report/">Coverage report</a>
    <a class="dropdown-item" href="../unit-test-report/">Unit test report</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/insightsengineering/goshawk">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Function to create a boxplot.</h1>
      <small class="dont-index">Source: <a href="https://github.com/insightsengineering/goshawk/blob/HEAD/R/g_boxplot.R" class="external-link"><code>R/g_boxplot.R</code></a></small>
      <div class="d-none name"><code>g_boxplot.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A box plot is a method for graphically depicting groups of numerical data
through their quartiles. Box plots may also have lines extending vertically
from the boxes (whiskers) indicating variability outside the upper and lower
quartiles, hence the term box-and-whisker. Outliers may be plotted as
individual points. Box plots are non-parametric: they display variation in
samples of a statistical population without making any assumptions of the
underlying statistical distribution. The spacings between the different parts
of the box indicate the degree of dispersion (spread) and skewness in the
data, and show outliers. In addition to the points themselves, they allow one
to visually estimate various L-estimators, notably the interquartile range,
midhinge, range, mid-range, and trimean.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a>
</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">g_boxplot</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">biomarker</span>,</span>
<span>  param_var <span class="op">=</span> <span class="st">"PARAMCD"</span>,</span>
<span>  <span class="va">yaxis_var</span>,</span>
<span>  <span class="va">trt_group</span>,</span>
<span>  xaxis_var <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  loq_flag_var <span class="op">=</span> <span class="st">"LOQFL"</span>,</span>
<span>  loq_legend <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  unit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  color_manual <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  shape_manual <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  box <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>  dot_size <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  facet_ncol <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rotate_xlab <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  font_size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  facet_var <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  hline_arb <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  hline_arb_color <span class="op">=</span> <span class="st">"red"</span>,</span>
<span>  hline_arb_label <span class="op">=</span> <span class="st">"Horizontal line"</span>,</span>
<span>  hline_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  hline_vars_colors <span class="op">=</span> <span class="st">"green"</span>,</span>
<span>  hline_vars_labels <span class="op">=</span> <span class="va">hline_vars</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a>
</h2>
    <dl>
<dt>data</dt>
<dd><p><code>ADaM</code> structured analysis laboratory data frame e.g. <code>ADLB</code>.</p></dd>


<dt>biomarker</dt>
<dd><p>biomarker to visualize e.g. <code>IGG</code>.</p></dd>


<dt>param_var</dt>
<dd><p>name of variable containing biomarker codes e.g. <code>PARAMCD</code>.</p></dd>


<dt>yaxis_var</dt>
<dd><p>name of variable containing biomarker results displayed on
Y-axis e.g. <code>AVAL</code>.</p></dd>


<dt>trt_group</dt>
<dd><p>name of variable representing treatment <code>trt_group</code> e.g. <code>ARM</code>.</p></dd>


<dt>xaxis_var</dt>
<dd><p>variable used to group the data on the x-axis.</p></dd>


<dt>loq_flag_var</dt>
<dd><p>name of variable containing <code>LOQ</code> flag e.g. <code>LOQFL</code>.</p></dd>


<dt>loq_legend</dt>
<dd><p><code>logical</code> whether to include <code>LoQ</code> legend.</p></dd>


<dt>unit</dt>
<dd><p>biomarker unit label e.g. (U/L)</p></dd>


<dt>color_manual</dt>
<dd><p>vector of color for <code>trt_group</code></p></dd>


<dt>shape_manual</dt>
<dd><p>vector of shapes (used with <code>loq_flag_var</code>)</p></dd>


<dt>box</dt>
<dd><p>add boxes to the plot (boolean)</p></dd>


<dt>ylim</dt>
<dd><p>('numeric vector') optional, a vector of length 2 to specify the minimum and maximum of the y-axis
if the default limits are not suitable.</p></dd>


<dt>dot_size</dt>
<dd><p>plot dot size.</p></dd>


<dt>alpha</dt>
<dd><p>dot transparency (0 = transparent, 1 = opaque)</p></dd>


<dt>facet_ncol</dt>
<dd><p>number of facets per row.  NULL = Use the default for <code><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">ggplot2::facet_wrap</a></code></p></dd>


<dt>rotate_xlab</dt>
<dd><p>45 degree rotation of x-axis label values.</p></dd>


<dt>font_size</dt>
<dd><p>point size of text to use.  NULL is use default size</p></dd>


<dt>facet_var</dt>
<dd><p>variable to facet the plot by, or <code>"None"</code> if no faceting
required.</p></dd>


<dt>hline_arb</dt>
<dd><p>('numeric vector') value identifying intercept for arbitrary horizontal lines.</p></dd>


<dt>hline_arb_color</dt>
<dd><p>('character vector') optional, color for the arbitrary horizontal lines.</p></dd>


<dt>hline_arb_label</dt>
<dd><p>('character vector') optional, label for the legend to the arbitrary horizontal lines.</p></dd>


<dt>hline_vars</dt>
<dd><p>('character vector'), names of variables <code>(ANR*)</code> or values <code>(*LOQ)</code> identifying intercept values.
The data inside of the <code>ggplot2</code> object must also contain the columns with these variable names</p></dd>


<dt>hline_vars_colors</dt>
<dd><p>('character vector') colors for the horizontal lines defined by variables.</p></dd>


<dt>hline_vars_labels</dt>
<dd><p>('character vector') labels for the legend to the horizontal lines defined by variables.</p></dd>

</dl>
</div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a>
</h2>
    

<p><code>ggplot</code> object</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a>
</h2>
    <p>Balazs Toth</p>
<p>Jeff Tomlinson (tomlinsj) jeffrey.tomlinson@roche.com</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a>
</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example using ADaM structure analysis dataset.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://insightsengineering.github.io/nestcolor/" class="external-link">nestcolor</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ADLB</span> <span class="op">&lt;-</span> <span class="va">rADLB</span></span></span>
<span class="r-in"><span><span class="va">var_labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">ADLB</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/attributes.html" class="external-link">attributes</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">$</span><span class="va">label</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ADLB</span> <span class="op">&lt;-</span> <span class="va">ADLB</span> <span class="op">%&gt;%</span></span></span>
<span class="r-in"><span>  <span class="fu">mutate</span><span class="op">(</span>AVISITCD <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">AVISIT</span> <span class="op">==</span> <span class="st">"SCREENING"</span> <span class="op">~</span> <span class="st">"SCR"</span>,</span></span>
<span class="r-in"><span>    <span class="va">AVISIT</span> <span class="op">==</span> <span class="st">"BASELINE"</span> <span class="op">~</span> <span class="st">"BL"</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"WEEK"</span>, <span class="va">AVISIT</span><span class="op">)</span> <span class="op">~</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        <span class="st">"W"</span>,</span></span>
<span class="r-in"><span>        <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>          <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>            <span class="va">AVISIT</span>,</span></span>
<span class="r-in"><span>            start <span class="op">=</span> <span class="fl">6</span>,</span></span>
<span class="r-in"><span>            stop <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_locate.html" class="external-link">str_locate</a></span><span class="op">(</span><span class="va">AVISIT</span>, <span class="st">"DAY"</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span>          <span class="op">)</span></span></span>
<span class="r-in"><span>        <span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="cn">TRUE</span> <span class="op">~</span> <span class="cn">NA_character_</span></span></span>
<span class="r-in"><span>  <span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span></span>
<span class="r-in"><span>  <span class="fu">mutate</span><span class="op">(</span>AVISITCDN <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">AVISITCD</span> <span class="op">==</span> <span class="st">"SCR"</span> <span class="op">~</span> <span class="op">-</span><span class="fl">2</span>,</span></span>
<span class="r-in"><span>    <span class="va">AVISITCD</span> <span class="op">==</span> <span class="st">"BL"</span> <span class="op">~</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"W"</span>, <span class="va">AVISITCD</span><span class="op">)</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"\\D+"</span>, <span class="st">""</span>, <span class="va">AVISITCD</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="cn">TRUE</span> <span class="op">~</span> <span class="cn">NA_real_</span></span></span>
<span class="r-in"><span>  <span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span></span>
<span class="r-in"><span>  <span class="fu">mutate</span><span class="op">(</span>ANRLO <span class="op">=</span> <span class="fl">.5</span>, ANRHI <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">%&gt;%</span></span></span>
<span class="r-in"><span>  <span class="fu">rowwise</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span></span>
<span class="r-in"><span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">PARAMCD</span><span class="op">)</span> <span class="op">%&gt;%</span></span></span>
<span class="r-in"><span>  <span class="fu">mutate</span><span class="op">(</span>LBSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">USUBJID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">USUBJID</span>, <span class="fl">1</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"&lt;"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>, min <span class="op">=</span> <span class="fl">.5</span>, max <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, <span class="va">LBSTRESC</span></span></span>
<span class="r-in"><span>  <span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span></span>
<span class="r-in"><span>  <span class="fu">mutate</span><span class="op">(</span>LBSTRESC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">USUBJID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">USUBJID</span>, <span class="fl">1</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"&gt;"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>, min <span class="op">=</span> <span class="fl">1</span>, max <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, <span class="va">LBSTRESC</span></span></span>
<span class="r-in"><span>  <span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span></span>
<span class="r-in"><span>  <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">ADLB</span><span class="op">[[</span><span class="st">"ARM"</span><span class="op">]</span><span class="op">]</span>, <span class="st">"label"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">var_labels</span><span class="op">[[</span><span class="st">"ARM"</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">ADLB</span><span class="op">[[</span><span class="st">"ANRLO"</span><span class="op">]</span><span class="op">]</span>, <span class="st">"label"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Analysis Normal Range Lower Limit"</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">ADLB</span><span class="op">[[</span><span class="st">"ANRHI"</span><span class="op">]</span><span class="op">]</span>, <span class="st">"label"</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"Analysis Normal Range Upper Limit"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># add LLOQ and ULOQ variables</span></span></span>
<span class="r-in"><span><span class="va">ADLB_LOQS</span> <span class="op">&lt;-</span> <span class="fu">goshawk</span><span class="fu">:::</span><span class="fu"><a href="h_identify_loq_values.html">h_identify_loq_values</a></span><span class="op">(</span><span class="va">ADLB</span>, <span class="st">"LOQFL"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ADLB</span> <span class="op">&lt;-</span> <span class="fu">left_join</span><span class="op">(</span><span class="va">ADLB</span>, <span class="va">ADLB_LOQS</span>, by <span class="op">=</span> <span class="st">"PARAM"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">g_boxplot</span><span class="op">(</span><span class="va">ADLB</span>,</span></span>
<span class="r-in"><span>  biomarker <span class="op">=</span> <span class="st">"CRP"</span>,</span></span>
<span class="r-in"><span>  param_var <span class="op">=</span> <span class="st">"PARAMCD"</span>,</span></span>
<span class="r-in"><span>  yaxis_var <span class="op">=</span> <span class="st">"AVAL"</span>,</span></span>
<span class="r-in"><span>  trt_group <span class="op">=</span> <span class="st">"ARM"</span>,</span></span>
<span class="r-in"><span>  loq_flag_var <span class="op">=</span> <span class="st">"LOQFL"</span>,</span></span>
<span class="r-in"><span>  loq_legend <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  unit <span class="op">=</span> <span class="st">"AVALU"</span>,</span></span>
<span class="r-in"><span>  shape_manual <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"N"</span> <span class="op">=</span> <span class="fl">1</span>, <span class="st">"Y"</span> <span class="op">=</span> <span class="fl">2</span>, <span class="st">"NA"</span> <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  facet_var <span class="op">=</span> <span class="st">"AVISIT"</span>,</span></span>
<span class="r-in"><span>  xaxis_var <span class="op">=</span> <span class="st">"STUDYID"</span>,</span></span>
<span class="r-in"><span>  alpha <span class="op">=</span> <span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>  rotate_xlab <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  hline_arb <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.9</span>, <span class="fl">1.2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  hline_arb_color <span class="op">=</span> <span class="st">"blue"</span>,</span></span>
<span class="r-in"><span>  hline_arb_label <span class="op">=</span> <span class="st">"Hori_line_label"</span>,</span></span>
<span class="r-in"><span>  hline_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ANRHI"</span>, <span class="st">"ANRLO"</span>, <span class="st">"ULOQN"</span>, <span class="st">"LLOQN"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  hline_vars_colors <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pink"</span>, <span class="st">"brown"</span>, <span class="st">"purple"</span>, <span class="st">"gray"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  hline_vars_labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"D"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="g_boxplot-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="nest">
  <p>goshawk is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer>
</div>

  

  

  </body>
</html>
