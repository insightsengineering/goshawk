<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Function to generate a boxplot
Output rendered by teal.goshawk module <code>g_boxplot</code> returns boxplot visualization — g_boxplot • goshawk</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Function to generate a boxplot
Output rendered by teal.goshawk module <code>g_boxplot</code> returns boxplot visualization — g_boxplot" />

<meta property="og:description" content="A box plot is a method for graphically depicting groups of numerical data
through their quartiles. Box plots may also have lines extending vertically
from the boxes (whiskers) indicating variability outside the upper and lower
quartiles, hence the term box-and-whisker. Outliers may be plotted as
individual points. Box plots are non-parametric: they display variation in
samples of a statistical population without making any assumptions of the
underlying statistical distribution. The spacings between the different parts
of the box indicate the degree of dispersion (spread) and skewness in the
data, and show outliers. In addition to the points themselves, they allow one
to visually estimate various L-estimators, notably the interquartile range,
midhinge, range, mid-range, and trimean." />
<meta name="twitter:card" content="summary" />

<meta name="robots" content="noindex">

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">goshawk</a>
        <span class="label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.roche.com/Rpackages/goshawk">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Function to generate a boxplot
Output rendered by teal.goshawk module <code>g_boxplot</code> returns boxplot visualization</h1>
    
    <div class="hidden name"><code>g_boxplot.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>A box plot is a method for graphically depicting groups of numerical data
through their quartiles. Box plots may also have lines extending vertically
from the boxes (whiskers) indicating variability outside the upper and lower
quartiles, hence the term box-and-whisker. Outliers may be plotted as
individual points. Box plots are non-parametric: they display variation in
samples of a statistical population without making any assumptions of the
underlying statistical distribution. The spacings between the different parts
of the box indicate the degree of dispersion (spread) and skewness in the
data, and show outliers. In addition to the points themselves, they allow one
to visually estimate various L-estimators, notably the interquartile range,
midhinge, range, mid-range, and trimean.</p>
    
    </div>

    <pre class="usage"><span class='fu'>g_boxplot</span>(<span class='no'>data</span>, <span class='no'>biomarker</span>, <span class='no'>yaxis_var</span>, <span class='no'>trt_group</span>, <span class='kw'>xaxis_var</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>loq_flag</span> <span class='kw'>=</span> <span class='st'>"LOQFL"</span>, <span class='kw'>unit</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>timepoint</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>color_manual</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>shape_manual</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>box</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>logscale</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>ymax_scale</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>ymin_scale</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>dot_size</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>facet_ncol</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>hline</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>rotate_xlab</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>font_size</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>armlabel</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>facet</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>data frame with variables which will be displayed in the plot.</p></td>
    </tr>
    <tr>
      <th>biomarker</th>
      <td><p>biomarker to visualize e.g. IGG.</p></td>
    </tr>
    <tr>
      <th>yaxis_var</th>
      <td><p>name of variable containing biomarker results displayed on
Y-axis e.g. AVAL.</p></td>
    </tr>
    <tr>
      <th>trt_group</th>
      <td><p>name of variable representing treatment trt_group e.g. ARM.</p></td>
    </tr>
    <tr>
      <th>xaxis_var</th>
      <td><p>variable used to group the data on the x-axis.</p></td>
    </tr>
    <tr>
      <th>loq_flag</th>
      <td><p>name of variable containing LOQ flag e.g. LOQFL.</p></td>
    </tr>
    <tr>
      <th>unit</th>
      <td><p>biomarker unit label e.g. (U/L)</p></td>
    </tr>
    <tr>
      <th>timepoint</th>
      <td><p>text to include on the plot title</p></td>
    </tr>
    <tr>
      <th>color_manual</th>
      <td><p>vector of colour for trt_group</p></td>
    </tr>
    <tr>
      <th>shape_manual</th>
      <td><p>vector of shapes (used with log_flag)</p></td>
    </tr>
    <tr>
      <th>box</th>
      <td><p>add boxes to the plot (boolean)</p></td>
    </tr>
    <tr>
      <th>logscale</th>
      <td><p>use a log scale for the Y axis (boolean)</p></td>
    </tr>
    <tr>
      <th>ymax_scale</th>
      <td><p>maximum value for the Y axis</p></td>
    </tr>
    <tr>
      <th>ymin_scale</th>
      <td><p>minimum value for the Y axis</p></td>
    </tr>
    <tr>
      <th>dot_size</th>
      <td><p>plot dot size.</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>dot transparency (0 = transparent, 1 = opaque)</p></td>
    </tr>
    <tr>
      <th>facet_ncol</th>
      <td><p>number of facets per row.  NULL = Use the default for facet_wrap</p></td>
    </tr>
    <tr>
      <th>hline</th>
      <td><p>y-axis value to position a horizontal line.  NULL = No line</p></td>
    </tr>
    <tr>
      <th>rotate_xlab</th>
      <td><p>45 degree rotation of x-axis label values.</p></td>
    </tr>
    <tr>
      <th>font_size</th>
      <td><p>point size of tex to use.  NULL is use default size</p></td>
    </tr>
    <tr>
      <th>armlabel</th>
      <td><p>label for the treatment symbols in the legend.
If not specified then the label attribute for trt_group will be used. 
If there is no label attribute for trt_group, then the name of the parameter (in title case) will be used.</p></td>
    </tr>
    <tr>
      <th>facet</th>
      <td><p>variable to facet the plot by, or "None" if no faceting
required.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>ggplot</code> object</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
</div><span class='co'># NOT RUN {</span>
<span class='fu'>library</span>(<span class='no'>random.cdisc.data</span>)
<span class='fu'>library</span>(<span class='no'>dplyr</span>)
<span class='fu'>library</span>(<span class='no'>goshawk</span>)

<span class='co'># Example data for 100 patients from 3 treatment groups</span>
<span class='no'>ASL</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/random.cdisc.data/topics/radam'>radam</a></span>(<span class='st'>'ASL'</span>, <span class='kw'>start_with</span> <span class='kw'>=</span> <span class='fu'>list</span>(
  <span class='kw'>STUDYID</span> <span class='kw'>=</span> <span class='st'>"XX99999"</span>,
  <span class='kw'>USUBJID</span> <span class='kw'>=</span> <span class='fu'>paste0</span>(<span class='st'>"XX99999-999-"</span>,<span class='fl'>1</span>:<span class='fl'>100</span>),
  <span class='kw'>ITTFL</span> <span class='kw'>=</span> <span class='st'>'Y'</span>,
  <span class='kw'>SEX</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"M"</span>, <span class='st'>"F"</span>),
  <span class='kw'>ARM</span> <span class='kw'>=</span> <span class='fu'>paste</span>(<span class='st'>"ARM"</span>, <span class='no'>LETTERS</span>[<span class='fl'>1</span>:<span class='fl'>3</span>])
))

<span class='co'># Create an example ALB dataset from the 100 patient, with 6 visits with 3 </span>
<span class='co'># parameters for each subject.  </span>
<span class='no'>ALB</span> <span class='kw'>&lt;-</span> <span class='fu'>expand.grid</span>(<span class='kw'>USUBJID</span> <span class='kw'>=</span> <span class='no'>ASL</span>$<span class='no'>USUBJID</span>
              , <span class='kw'>AVISIT</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"BASELINE"</span>,  <span class='fu'>paste0</span>(<span class='st'>"VISIT "</span>, <span class='fl'>1</span>:<span class='fl'>5</span>))
              , <span class='kw'>PARAMCD</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"CRP"</span>, <span class='st'>"IGA"</span>, <span class='st'>"IGG"</span>)
              , <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
    )

<span class='no'>ALB</span> <span class='kw'>&lt;-</span> <span class='no'>ALB</span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span>( <span class='kw'>AVAL</span> <span class='kw'>=</span> <span class='fu'>rnorm</span>(<span class='fu'>nrow</span>(<span class='no'>ALB</span>), <span class='kw'>mean</span> <span class='kw'>=</span> <span class='fl'>50</span>, <span class='kw'>sd</span> <span class='kw'>=</span> <span class='fl'>8</span>) )

<span class='no'>ALB</span> <span class='kw'>&lt;-</span> <span class='no'>ALB</span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/join.html'>left_join</a></span>(<span class='no'>ALB</span> <span class='kw'>%&gt;%</span>
              <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>AVISIT</span> <span class='kw'>==</span> <span class='st'>"BASELINE"</span>) <span class='kw'>%&gt;%</span>
              <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span>(<span class='no'>USUBJID</span>, <span class='no'>PARAMCD</span>, <span class='kw'>BASE</span> <span class='kw'>=</span> <span class='no'>AVAL</span>)
            , <span class='kw'>by</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"USUBJID"</span>, <span class='st'>"PARAMCD"</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/join.html'>left_join</a></span>(<span class='no'>ASL</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='st'>"USUBJID"</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span>(<span class='kw'>CHG</span> <span class='kw'>=</span> <span class='no'>AVAL</span> - <span class='no'>BASE</span>, <span class='kw'>PCHG</span> <span class='kw'>=</span> <span class='fl'>100</span> * <span class='no'>CHG</span>/<span class='no'>BASE</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span>(<span class='kw'>LOQFL</span> <span class='kw'>=</span> <span class='fu'>ifelse</span>(<span class='no'>AVAL</span> <span class='kw'>&lt;</span> <span class='fl'>32</span>, <span class='st'>"Y"</span>, <span class='st'>"N"</span>))

<span class='co'># Example 1.</span>

<span class='co'># Plot boxplots for IGA by Treatment (ARM) faceted by AVISIT, to display a</span>
<span class='co'># boxplot for each visit.</span>
<span class='co'># Specific colors are given for each treatment group.</span>
<span class='co'># Values that are flagged by LOQFL are given a different symbol.</span>
<span class='co'># Log scale for the Y axis.</span>
<span class='co'># Points are plot with a transparency</span>

<span class='co'># ALB is a VAD or ADAM format dataset, subsetted for the appropriate population.</span>
<span class='co'># Select the parameter of interest to plot.</span>
<span class='no'>albplot</span> <span class='kw'>&lt;-</span> <span class='no'>ALB</span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>PARAMCD</span> <span class='kw'>==</span> <span class='st'>"IGA"</span>)

<span class='fu'>g_boxplot</span>(<span class='no'>albplot</span>
          , <span class='kw'>biomarker</span> <span class='kw'>=</span> <span class='st'>"IGA"</span>
          , <span class='kw'>yaxis_var</span> <span class='kw'>=</span> <span class='st'>"AVAL"</span>
          , <span class='kw'>trt_group</span> <span class='kw'>=</span> <span class='st'>"ARM"</span>
          , <span class='kw'>loq_flag</span> <span class='kw'>=</span> <span class='st'>'LOQFL'</span>
          , <span class='kw'>timepoint</span> <span class='kw'>=</span> <span class='st'>"over time"</span>
          , <span class='kw'>unit</span> <span class='kw'>=</span> <span class='st'>"U/L"</span>
          <span class='co'>#, color_manual = c('ARM A' = "#1F78B4", 'ARM B' = "#33A02C", 'ARM C' = "#601010")</span>
          , <span class='kw'>shape_manual</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>'N'</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='st'>'Y'</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='st'>'NA'</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)
          , <span class='kw'>hline</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
          , <span class='kw'>facet</span> <span class='kw'>=</span> <span class='st'>"ARM"</span>
          , <span class='kw'>xaxis_var</span> <span class='kw'>=</span> <span class='st'>"AVISIT"</span>
          , <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.5</span>
          , <span class='kw'>logscale</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)


<span class='co'># Example 2</span>
<span class='co'>#</span>
<span class='co'># A plot using mostly default values. </span>
<span class='no'>albplot</span> <span class='kw'>&lt;-</span> <span class='no'>ALB</span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>PARAMCD</span> <span class='kw'>==</span> <span class='st'>"CRP"</span> <span class='kw'>&amp;</span> <span class='no'>AVISIT</span> <span class='kw'>==</span> <span class='st'>"BASELINE"</span>)

<span class='fu'>g_boxplot</span>(<span class='no'>albplot</span>
          , <span class='kw'>biomarker</span> <span class='kw'>=</span> <span class='st'>"CRP"</span>
          , <span class='kw'>yaxis_var</span> <span class='kw'>=</span> <span class='st'>"AVAL"</span>
          , <span class='kw'>trt_group</span> <span class='kw'>=</span> <span class='st'>"ARM"</span>
          , <span class='kw'>xaxis_var</span> <span class='kw'>=</span> <span class='st'>"AVISIT"</span>
          , <span class='kw'>facet</span> <span class='kw'>=</span> <span class='st'>"ARM"</span>
          ,<span class='kw'>rotate_xlab</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)

<span class='co'># }</span><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Balazs Toth

Jeff Tomlinson (tomlinsj) jeffrey.tomlinson@roche.com

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Nick Paszty, Jeffrey Tomlinson, Wenyi Liu, Bali Toth.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

